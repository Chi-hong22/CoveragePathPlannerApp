# AUV 全覆盖路径规划器

一个用于生成 AUV (自主水下航行器) 海底探测梳状全覆盖路径的 MATLAB GUI 应用程序。

## 功能特点

- 交互式路径规划：通过图形界面设置路径参数
- 灵活的路径生成：支持 X/Y 两个方向的梳状路径规划
- 实时路径可视化：动态显示规划路径和关键点
- 数据导出功能：支持将路径点导出为 CSV 格式
- TCP 通信：可直接将规划数据发送至 AUV 控制系统
- Dubins 路径规划：支持避障算法设置

## 界面参数说明

![示意图](/picture/示意图.png)

### 相关参数初始化

- **卡舵序号设置 (K1-K4)**：设置特殊航点的序号，用于容错控制
- **卡舵舵角设置 (δ1-δ4)**：设置对应航点的舵角值（度）
- **最大速度**：设置AUV的最大航行速度（米/秒）
- **掉深时间**：设置下潜操作执行时间（秒）
- **急停时间**：设置紧急停止响应时间（秒）
- **规划路径起点 (X, Y)**：设定全局路径规划的起始坐标
- **AUV 初始位置 (X, Y, Z)**：设定AUV的初始三维坐标
- **AUV 初始姿态角 (Roll, Pitch, Yaw)**：设定AUV的初始姿态角度

### 路径参数设置

- **路径方向**：选择梳状路径的主方向
  - X方向：路径主轴沿X轴延伸
  - Y方向：路径主轴沿Y轴延伸
- **梳状齿间距**：相邻探测线间的距离（米）
- **路径总宽**：整个覆盖区域的宽度（米）
- **路径条数**：生成的探测线总数
- **AUV深度**：设置巡航深度（米）
- **下潜点索引/下潜深度**：设置下潜操作的位置和目标深度
- **上浮点索引/上浮深度**：设置上浮操作的位置和目标深度

### TCP通信设置

- **服务器IP**：AUV控制系统的IP地址（默认192.168.1.120）
- **服务器端口**：AUV控制系统的端口号（默认5001）
- **本机IP**：本地计算机IP地址（默认192.168.1.100）
- **本机端口**：本地监听端口号（默认8888）

### Dubins路径规划设置

- **前段路径点个数**：圆弧段起始部分的采样点数
- **中段路径点个数**：直线段中间部分的采样点数
- **后段路径点个数**：圆弧段结束部分的采样点数
- **Dubins转弯半径**：局部路径规划时的最小转弯半径（米）

## 功能按钮说明

### 全局路径规划功能

- **【生成全局梳状路径】**：根据设定的起始点、间距、宽度等参数,生成全局探测路径。点击后,在UIAxes1区域显示规划结果。
- **【导出全局梳状路径数据(csv)】**：将生成的全局路径点数据以CSV格式保存到指定位置,便于后续分析和使用。导出的数据包含完整的路径点坐标。
- **【发送全局梳状路径数据至AUV】**：通过配置的TCP连接将路径数据传输至AUV控制系统。发送成功后会在状态栏显示确认信息。

### 地图处理与避障功能

- **【导入地图数据】**：支持导入.mat格式的海底地形高程数据,用于后续的障碍物分析。导入后会在UIAxes3区域显示地形数据。
- **【地形图及障碍物标注】**：在UIAxes3绘图区域中可视化地形数据,并自动标注潜在障碍物位置。红色区域表示危险区域。
- **【生成局部Dubins路径规划】**：基于预设的路径点密度和转弯半径,生成平滑的避障路径。计算结果会在UIAxes2区域显示。

### Dubins路径输出功能

- **【导出Dubins路径规划数据(csv)】**：将优化后的路径点数据以CSV格式保存,包含所有关键航点坐标、速度和角度信息。
- **【发送Dubins路径规划数据至AUV】**：将优化后的避障路径数据通过TCP协议发送至AUV控制系统。
- **【绘制AUV运行仿真图】**：生成AUV沿规划路径行进的仿真动画,用于直观评估路径可行性。

## 典型工作流程

1. 设置起始点和各项参数
2. 点击【生成梳状路径】生成全局路径
3. 导入地形数据并标注障碍物
4. 执行Dubins路径规划避开障碍物
5. 导出最终路径或直接发送至AUV

## 系统要求

- MATLAB R2024a 或更高版本
- 建议屏幕分辨率：1200x800 或更高
- 需安装的工具箱：
  - MATLAB 基础工具箱
  - 信号处理工具箱
  - 通信工具箱（用于TCP通信）

## 版权信息

版权所有 © 哈尔滨工程大学智能海洋机器人实验室张强老师团队

维护者：Chi-hong22/游子昂 (you.ziang@hrbeu.edu.cn)

未经允许，不得用于商业用途